////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// ------------------------------- Includes ----------------------------------------------------------------------//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "Globals.h"
#include "SDSetup.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// ------------------------------- Pre-setup ---------------------------------------------------------------------//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

File dataFile;
const char* fileName = "ESP.txt";

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// ------------------------------- SETUP --------------------------------------------------------------------------------------------//
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void setup()
{
 // Open serial communications and wait for port to open:
  Serial.begin(9600);
   while (!Serial);
  
  // Initialize SD card on CS pin
  if(!SD.begin(SD_CS)) {
    Serial.println("initialization failed!");
  }
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// ------------------------------- LOOP ---------------------------------------------------------------------------------------------//
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void loop()
{

  if (do_log) {
    if (!logSD(dataFile, fileName, "Test 1, 2, 3...")){
      Serial.print("Error writing to ");
      Serial.println(fileName);
    }
  } // if Logging

  

  delay(1000);
}
